<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Western Classical Music in 50 Works | Complete Study Guide</title>
  <meta name="description" content="Explore 1,000 years of Western classical music through 50 essential works from Medieval to Modern. Interactive guide with composer biographies, historical context, and Spotify integration for music lovers and students.">
  
  <!-- SEO Meta Tags -->
  <meta name="keywords" content="classical music, music history, composer biographies, western classical music, music education, essential classical works, music syllabus">
  <meta name="author" content="Classical Music Study Guide">
  <link rel="canonical" href="https://amerorchis.com/classical">

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Western Classical Music in 50 Works | Complete Study Guide">
  <meta property="og:description" content="Explore 1,000 years of Western classical music through 50 essential works from Medieval to Modern. Interactive guide with composer biographies, historical context, and Spotify integration.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://amerorchis.com/classical">
  <meta property="og:image" content="https://amerorchis.com/classical/src/assets/images/Bach.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="Classical Music Study Guide">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Western Classical Music in 50 Works | Complete Study Guide">
  <meta name="twitter:description" content="Explore 1,000 years of Western classical music through 50 essential works from Medieval to Modern. Interactive guide with composer biographies and historical context.">
  <meta name="twitter:image" content="https://amerorchis.com/classical/src/assets/images/Bach.jpg">

  <link href="/src/assets/images/music_favicon.ico" rel="icon" type="image/x-icon" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <link rel="stylesheet" href="src/css/styles.css">
  
  <!-- Preload critical resources -->
  <link rel="preload" href="src/data/syllabus-data.json" as="fetch" type="application/json" crossorigin="anonymous">
  <link rel="preload" href="src/data/composer-data.json" as="fetch" type="application/json" crossorigin="anonymous">

  <!-- Apply theme immediately to prevent flash -->
  <script>
    (function() {
      const savedTheme = localStorage.getItem('darkMode');
      const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      let shouldUseDark = false;
      if (savedTheme === 'true') {
        shouldUseDark = true;
      } else if (savedTheme === 'false') {
        shouldUseDark = false;
      } else {
        // No saved preference, use system preference
        shouldUseDark = systemPrefersDark || false;
      }
      
      if (shouldUseDark) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    })();
  </script>
  <svg style="display: none;">
    <symbol id="spotify-icon" viewbox="0 0 50 50">
      <path
        d="M25.009,1.982c-12.687,0 -23.009,10.322 -23.009,23.009c0,12.687 10.322,23.009 23.009,23.009c12.687,0 23.009,-10.321 23.009,-23.009c0,-12.688 -10.322,-23.009 -23.009,-23.009zM34.748,35.333c-0.289,0.434 -0.765,0.668 -1.25,0.668c-0.286,0 -0.575,-0.081 -0.831,-0.252c-2.473,-1.649 -6.667,-2.749 -10.167,-2.748c-3.714,0.002 -6.498,0.914 -6.526,0.923c-0.784,0.266 -1.635,-0.162 -1.897,-0.948c-0.262,-0.786 0.163,-1.636 0.949,-1.897c0.132,-0.044 3.279,-1.075 7.474,-1.077c3.5,-0.002 8.368,0.942 11.832,3.251c0.69,0.46 0.876,1.391 0.416,2.08zM37.74,29.193c-0.325,0.522 -0.886,0.809 -1.459,0.809c-0.31,0 -0.624,-0.083 -0.906,-0.26c-4.484,-2.794 -9.092,-3.385 -13.062,-3.35c-4.482,0.04 -8.066,0.895 -8.127,0.913c-0.907,0.258 -1.861,-0.272 -2.12,-1.183c-0.259,-0.913 0.272,-1.862 1.184,-2.12c0.277,-0.079 3.854,-0.959 8.751,-1c4.465,-0.037 10.029,0.61 15.191,3.826c0.803,0.5 1.05,1.56 0.548,2.365zM40.725,22.013c-0.373,0.634 -1.041,0.987 -1.727,0.987c-0.344,0 -0.692,-0.089 -1.011,-0.275c-5.226,-3.068 -11.58,-3.719 -15.99,-3.725c-0.021,0 -0.042,0 -0.063,0c-5.333,0 -9.44,0.938 -9.481,0.948c-1.078,0.247 -2.151,-0.419 -2.401,-1.495c-0.25,-1.075 0.417,-2.149 1.492,-2.4c0.185,-0.043 4.573,-1.053 10.39,-1.053c0.023,0 0.046,0 0.069,0c4.905,0.007 12.011,0.753 18.01,4.275c0.952,0.56 1.271,1.786 0.712,2.738z">
      </path>
    </symbol>
  </svg>

  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  
  <!-- Confetti for celebration when works are completed -->
  <script type="module">
    import confetti from 'https://cdn.skypack.dev/canvas-confetti';
    window.triggerConfetti = function(element) {
      // Get the position of the element for targeted confetti
      const rect = element.getBoundingClientRect();
      const x = (rect.left + rect.right) / 2 / window.innerWidth;
      const y = (rect.top + rect.bottom) / 2 / window.innerHeight;
      
      // Launch confetti from the element position
      confetti({
        particleCount: 100,
        spread: 70,
        origin: { x, y },
        velocity: 0.7,
        gravity: 0.8,
      });
    };
  </script>
  
  <!-- Firebase Configuration -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDtbX6Xbect_pMDzmxXQRhKGsJfVeNQ0zg",
      authDomain: "classical-3e146.firebaseapp.com",
      projectId: "classical-3e146",
      storageBucket: "classical-3e146.firebasestorage.app",
      messagingSenderId: "290067507397",
      appId: "1:290067507397:web:9c9edab44dff2d7f4a68ac",
      measurementId: "G-5EVTJW4968"
    };
    
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    console.log('Firebase initialized successfully');
  </script>

</head>

<body class="bg-gray-50">
  <!-- Menu Toggle Button (Fixed to left edge of screen) -->
  <button id="menu-toggle"
    class="fixed left-0 bg-indigo-600 hover:bg-indigo-700 text-white p-2 rounded-r-md shadow-md z-50 focus:outline-none transition-all duration-300 ease-in-out"
    style="top: 190px; z-index: 60;">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
  </button>

  <!-- Left Side Menu (Initially Hidden) -->
  <div id="side-menu"
    class="fixed left-0 top-0 h-full w-64 bg-white dark:bg-gray-900 shadow-lg transform -translate-x-full transition-transform duration-300 ease-in-out overflow-auto z-40">
    <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
      <h3 class="font-bold text-indigo-600 dark:text-indigo-400">Works by Period</h3>
      <button id="close-menu" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <!-- The menu content will be dynamically populated here -->
    <div id="dynamic-menu-content" class="p-4 space-y-2">
      <!-- JS will insert content here -->
    </div>
  </div>

  <!-- Auth UI Elements -->
  <div class="absolute top-8 right-4 z-50 flex items-center">
    <!-- Login Button (shown when user is not logged in) -->
    <button id="login-button"
      class="hidden bg-white hover:bg-gray-50 text-gray-700 py-2 px-4 rounded-md shadow-md transition-all duration-300 ease-in-out flex items-center border border-gray-200">
      <!-- Google "G" Logo SVG -->
      <svg class="w-5 h-5 min-w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path fill="#4285F4"
          d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
        <path fill="#34A853"
          d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
        <path fill="#FBBC05"
          d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
        <path fill="#EA4335"
          d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
      </svg>
      <span class="login-text ml-3 hidden xl:inline-block xl:max-w-xs 2xl:inline 2xl:max-w-none">
        Login to sync progress
      </span>
    </button>

    <div id="user-profile" class="hidden flex items-center">
      <button id="logout-button"
        class="bg-white hover:bg-gray-50 text-gray-700 py-2 px-4 rounded-md shadow-md transition-all duration-300 ease-in-out flex items-center border border-gray-200">
        <!-- Google "G" Logo SVG -->
        <svg class="w-5 h-5 min-w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path fill="#4285F4"
            d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
          <path fill="#34A853"
            d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
          <path fill="#FBBC05"
            d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
          <path fill="#EA4335"
            d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
        </svg>
        <span class="logout-text ml-3">Log Out</span>
      </button>
    </div>
  </div>

  <!-- Sync Status Indicator -->
  <div id="sync-status"
    class="hidden fixed bottom-6 left-6 z-50 bg-white text-gray-700 py-2 px-4 rounded-md shadow-md flex items-center border border-gray-200">
    <svg class="w-5 h-5 mr-3 text-indigo-600 animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none"
      viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor"
        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
      </path>
    </svg>
    <span id="sync-text" class="font-medium">Syncing...</span>
  </div>

  <div class="min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-8">
      <div class="container mx-auto text-center">
        <h1 class="text-5xl font-extrabold">Western Classical Music in 50 Works</h1>
      </div>
    </header>
    <!-- Timeline Navigation Bar -->
    <nav class="sticky top-0 bg-white dark:bg-gray-900 shadow z-50 py-4">
      <div class="container mx-auto flex items-center justify-between px-4">
        <!-- Left: Dark mode toggle -->
        <div class="w-10">
          <button aria-label="Toggle dark mode"
            class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 transition-transform hover:scale-110"
            id="dark-mode-toggle">
            <!-- Sun icon (shown in dark mode) -->
            <svg class="h-6 w-6 hidden dark:block" fill="none" id="sun-icon" stroke="currentColor" viewbox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="5" stroke-width="2"></circle>
              <line stroke-width="2" x1="12" x2="12" y1="1" y2="3"></line>
              <line stroke-width="2" x1="12" x2="12" y1="21" y2="23"></line>
              <line stroke-width="2" x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line>
              <line stroke-width="2" x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line>
              <line stroke-width="2" x1="1" x2="3" y1="12" y2="12"></line>
              <line stroke-width="2" x1="21" x2="23" y1="12" y2="12"></line>
              <line stroke-width="2" x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line>
              <line stroke-width="2" x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line>
            </svg>
            <!-- Moon icon (shown in light mode) -->
            <svg class="h-6 w-6 block dark:hidden" fill="none" id="moon-icon" stroke="currentColor" viewbox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
                stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
            </svg>
          </button>
        </div>
        <!-- Center links (existing navigation) -->
        <div class="flex justify-center space-x-4 overflow-x-auto">
          <a class="timeline-link text-indigo-600 dark:text-indigo-400 font-semibold hover:underline"
            href="#medieval">Medieval</a>
          <a class="timeline-link text-indigo-600 dark:text-indigo-400 font-semibold hover:underline"
            href="#renaissance">Renaissance</a>
          <a class="timeline-link text-indigo-600 dark:text-indigo-400 font-semibold hover:underline"
            href="#baroque">Baroque</a>
          <a class="timeline-link text-indigo-600 dark:text-indigo-400 font-semibold hover:underline"
            href="#classical">Classical</a>
          <a class="timeline-link text-indigo-600 dark:text-indigo-400 font-semibold hover:underline"
            href="#romantic">Romantic</a>
          <a class="timeline-link text-indigo-600 dark:text-indigo-400 font-semibold hover:underline"
            href="#modern">20th Century &amp; Beyond</a>
        </div>
        <!-- Right: Scroll-to-top arrow -->
        <div class="w-10 flex justify-end">
          <button aria-label="Scroll to top"
            class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 transition-transform hover:scale-110"
            id="scroll-to-top">
            <svg class="feather feather-arrow-up" fill="none" height="24" stroke="currentColor" stroke-linecap="round"
              stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24"
              xmlns="http://www.w3.org/2000/svg">
              <line x1="12" x2="12" y1="19" y2="5"></line>
              <polyline points="5 12 12 5 19 12"></polyline>
            </svg>
          </button>
        </div>
      </div>
    </nav>
    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
      <!-- Dynamic Syllabus Content -->
      <div id="dynamic-syllabus-container">
        <div class="loading-message bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded">
          Loading syllabus content...
        </div>
      </div>
    </main>
    <footer class="w-full py-8 px-4 mt-12 mb-4 text-center">
      <div class="max-w-4xl mx-auto">
        <p class="text-gray-600 italic text-sm">
          Source: &ldquo;The Oxford History of Western Music&rdquo; by Richard Taruskin
        </p>
      </div>
    </footer>
    <!-- Reset Button -->
    <div class="flex justify-center mt-12">
      <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-full"
        onclick="resetSyllabus()">Reset All Progress</button>
    </div>
  </div>

  <!-- Import all modules -->
  <script type="module">
    // Import all necessary modules
    import './src/js/utils.js';
    import './src/js/app.js';
    import { initializeSyllabus } from './src/js/syllabus-builder.js';
    import './src/js/syllabus-integration.js';
    
    // Lazy load SEO structured data (non-critical for initial render)
    const loadSEOData = () => import('./src/js/seo-structured-data.js');
    
    // Initialize dynamic syllabus when DOM loads
    document.addEventListener('DOMContentLoaded', async function () {
      try {
        console.log('Loading dynamic syllabus...');
        await initializeSyllabus();
        console.log('Dynamic syllabus loaded successfully');
        
        // Load SEO data after main content is ready (non-blocking)
        loadSEOData().catch(error => console.warn('Failed to load SEO data:', error));
      } catch (error) {
        console.error('Failed to load dynamic syllabus:', error);
      }
    });
  </script>

  <!-- Progress Bubble -->
  <div aria-label="Track progress and find next item"
    class="fixed bottom-6 right-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full shadow-lg p-4 transition transform hover:scale-110 hover:shadow-xl z-50 cursor-pointer"
    id="progress-bubble" role="button" tabindex="0">
    <div class="text-center font-bold">
      <span id="completed-count">0</span>/<span id="total-count">0</span>
      <div class="text-xs mt-1">listened</div>
    </div>
  </div>
</body>

</html>